(function(){"use strict";var e={3454:function(e,t,r){var n={};r.r(n),r.d(n,{getCity:function(){return _},getCurrentCity:function(){return k},getCurrentEmail:function(){return E},getCurrentName:function(){return b},getCurrentPhone:function(){return M},getErrorMessage:function(){return P},getResponceMessage:function(){return S},getShowCard:function(){return C}});var o={};r.r(o),r.d(o,{setCity:function(){return R},setEmail:function(){return F},setErrorMessge:function(){return U},setName:function(){return D},setPhone:function(){return N},setResponceMessage:function(){return j},setShowCard:function(){return O}});var s={};r.r(s),r.d(s,{setOrderAC:function(){return G},setShowCardAC:function(){return V}});var u=r(9242),a=r(3396);function i(e,t){const r=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(r)])}var l=r(89);const c={},d=(0,l.Z)(c,[["render",i]]);var m=d,p=r(2483);const g={class:"home"};function f(e,t,r,n,o,s){const u=(0,a.up)("ButtonsGroup"),i=(0,a.up)("ModalOrder"),l=(0,a.up)("ModalResponce");return(0,a.wg)(),(0,a.iD)("div",g,[(0,a.Wm)(u),(0,a.Wm)(i),(0,a.Wm)(l)])}var x=r(7139);const h={class:"m-[10px] flex flex-col sm:ml-[40px] sm:flex-row sm:m-[20px]"};function w(e,t,r,n,o,s){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",h,[(0,a._)("button",{class:(0,x.C_)({"py-[9px]":!0,"px-[17px]":!0,"mb-[10px]":!0,"bg-color3B82F6":!0,"text-white":!0,"rounded-[8px]":!0,"hover:bg-[#5B82F6]":!0,"sm:ml-[40px]":!0,"sm:mb-[0px]":!0,"sm:mr-[17px]":!0,"lg:ml-[80px]":!0,"lg:mr-[20px]":!0}),onClick:t[0]||(t[0]=t=>n.setShowCard(e.nameCity="Москва",!n.getShowCard))}," Заказать в Москву "),(0,a._)("button",{class:"py-[9px] px-[17px] bg-color0D9488 text-white rounded-[8px] hover:bg-[#3D9488]",onClick:t[1]||(t[1]=t=>n.setShowCard(e.nameCity="Санкт-Петербург",!n.getShowCard))}," Заказать в Санкт-Петербург ")])])}var v=r(65);function y(){return{city:[{id:1,name:"Москва"},{id:2,name:"Санкт-Петербург"},{id:3,name:"Казань"}],showCard:!1,currentName:"",currentPhone:"",currentEmail:"",currentCity:"",errorMessage:{},responce:""}}const C=e=>e.showCard,_=e=>e.city,b=e=>e.currentName,M=e=>e.currentPhone,E=e=>e.currentEmail,k=e=>e.currentCity,P=e=>e.errorMessage,S=e=>e.responce;function O(e,t){e.showCard=t}function D(e,t){e.currentName=t}function N(e,t){e.currentPhone=t}function F(e,t){e.currentEmail=t}function R(e,t){e.currentCity=t}function U(e,{key:t,text:r}){e.errorMessage[t]=r}function j(e,t){e.responce=t}var T=r(6265),W=r.n(T);const A="http://hh.autodrive-agency.ru/test-tasks/front/task-7/";async function Z(e){let t=await W().post(A,e).then((e=>e.data)).catch((e=>e));return t}var B={sendOrder:Z};function z(e){let t=!0;for(let r in e)""!=e[r]&&(t=!1);return t}function V({commit:e},t){e("setShowCard",t)}async function G({commit:e,dispatch:t,getters:r}){if(r.getCurrentName?e("setErrorMessge",{key:"name",text:""}):e("setErrorMessge",{key:"name",text:"*Обязательное поле"}),r.getCurrentPhone?r.getCurrentPhone.length<18?e("setErrorMessge",{key:"phone",text:"*Введите валидный номер"}):e("setErrorMessge",{key:"phone",text:""}):e("setErrorMessge",{key:"phone",text:"*Обязательное поле"}),r.getCurrentEmail?r.getErrorMessage["email"]?e("setErrorMessge",{key:"email",text:r.getErrorMessage["email"]}):e("setErrorMessge",{key:"email",text:""}):e("setErrorMessge",{key:"email",text:"*Обязательное поле"}),z(r.getErrorMessage)){let n=e=>e[0]+e[1]+e[4]+e[5]+e[6]+e[9]+e[10]+e[11]+e[13]+e[14]+e[16]+e[17],o=await B.sendOrder({name:r.getCurrentName,phone:n(r.getCurrentPhone),email:r.getCurrentEmail,city_id:r.getCity.find((e=>e.name==r.getCurrentCity)).id});400!=o.status&&(t("setShowCardAC",!1),e("setResponceMessage",o)),e("setName",""),e("setPhone",""),e("setEmail",""),e("setCity","")}}var H={namespaced:!0,getters:n,mutations:o,actions:s,state:y},q=(0,v.MT)({state:{},getters:{},mutations:{},actions:{},modules:{order:H}}),I={name:"ButtonsGroup",setup(){const e=(0,a.Fl)({get(){return q.getters["order/getShowCard"]}}),t=(e,t)=>{q.commit("order/setCity",e),q.dispatch("order/setShowCardAC",t)};return{getShowCard:e,setShowCard:t}}};const L=(0,l.Z)(I,[["render",w]]);var Q=L;const K=e=>((0,a.dD)("data-v-0b31c53b"),e=e(),(0,a.Cn)(),e),Y={class:"w-[793px] h-[492px] sm:h-[216px] p-[24px] m-[10px] bg-white rounded-lg shadow-[0_20px_25px_-5px_rgba(0,0,0,0.1),0_10px_15px_-5px_rgba(0,0,0,0.04)] flex flex-col gap-[16px]"},$=K((()=>(0,a._)("div",{class:"text-left text-[24px] leading-[24px] font-medium"}," Заказать звонок ",-1))),J={class:"flex flex-col sm:flex-row sm:justify-between gap-[16px] text-left font-medium leading-[20px] text-[16px] sm:max-h-[62px]"};function X(e,t,r,n,o,s){const i=(0,a.up)("UserName"),l=(0,a.up)("UserPhone"),c=(0,a.up)("UserEmail"),d=(0,a.up)("UserCity");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(u.uT,{name:"modal"},{default:(0,a.w5)((()=>[n.getShowCard?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"fixed flex flex-row justify-center items-center z-50 inset-0 w-full h-full bg-color6b7280bf transition-opacity ease duration-1000",onClick:t[1]||(t[1]=(0,u.iM)((e=>n.setShowCard(!1)),["self"]))},[(0,a._)("div",Y,[$,(0,a._)("div",J,[(0,a.Wm)(i),(0,a.Wm)(l),(0,a.Wm)(c),(0,a.Wm)(d)]),(0,a._)("button",{class:"py-[11px] px-[42px] w-full sm:w-[170px] bg-[#16A34A] shadow-[0_1px_2px_0px_rgba(0,0,0,0.05)] rounded-[6px] text-white sm:self-end hover:bg-sky-700",onClick:t[0]||(t[0]=(...e)=>n.sendOrder&&n.sendOrder(...e))}," Отправить ")])])):(0,a.kq)("",!0)])),_:1})])}const ee=(0,a._)("div",null,"Имя*",-1),te={class:"w-full sm:w-[170px] text-red-700 text-[12px]"};function re(e,t,r,n,o,s){return(0,a.wg)(),(0,a.iD)("div",null,[ee,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.setName=e),type:"text",class:"form-input w-full sm:w-[170px]"},null,512),[[u.nr,n.setName]]),(0,a._)("div",te,(0,x.zw)(n.msg["name"]),1)])}var ne={setup(){const e=(0,a.Fl)({get(){return q.getters["order/getCurrentName"]},set(e){q.commit("order/setName",e)}}),t=(0,a.Fl)({get(){return q.getters["order/getErrorMessage"]}});return{setName:e,msg:t}}};const oe=(0,l.Z)(ne,[["render",re]]);var se=oe;const ue=(0,a._)("div",null,"Город*",-1),ae=["value"];function ie(e,t,r,n,o,s){return(0,a.wg)(),(0,a.iD)("div",null,[ue,(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.setCity=e),class:"form-select w-full sm:w-[170px]"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.getCity,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.name},(0,x.zw)(e.name),9,ae)))),128))],512),[[u.bM,n.setCity]])])}var le={setup(){const e=(0,a.Fl)({get(){return q.getters["order/getCity"]}}),t=(0,a.Fl)({get(){return q.getters["order/getCurrentCity"]},set(e){q.commit("order/setCity",e)}});return{getCity:e,setCity:t}}};const ce=(0,l.Z)(le,[["render",ie]]);var de=ce;const me=(0,a._)("div",null,"Email*",-1),pe={class:"w-full sm:w-[170px] text-red-700 text-[12px]"};function ge(e,t,r,n,o,s){return(0,a.wg)(),(0,a.iD)("div",null,[me,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.setEmail=e),type:"email",placeholder:"you@example.com",class:"form-input w-full sm:w-[170px]",onBlur:t[1]||(t[1]=(...e)=>n.validateEmail&&n.validateEmail(...e))},null,544),[[u.nr,n.setEmail]]),(0,a._)("div",pe,(0,x.zw)(n.msg["email"]),1)])}var fe={setup(){const e=(0,a.Fl)({get(){return q.getters["order/getCurrentEmail"]},set(e){q.commit("order/setEmail",e)}}),t=(0,a.Fl)({get(){return q.getters["order/getErrorMessage"]}}),r=()=>{""==e.value?q.commit("order/setErrorMessge",{key:"email",text:"*Обязательное поле"}):/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e.value)?q.commit("order/setErrorMessge",{key:"email",text:""}):q.commit("order/setErrorMessge",{key:"email",text:"*Введите валидный email"})};return{validateEmail:r,setEmail:e,msg:t}}};const xe=(0,l.Z)(fe,[["render",ge]]);var he=xe;const we=(0,a._)("div",null,"Телефон*",-1),ve={class:"w-full sm:w-[170px] text-red-700 text-[12px]"};function ye(e,t,r,n,o,s){const i=(0,a.Q2)("phone"),l=(0,a.Q2)("focus");return(0,a.wg)(),(0,a.iD)("div",null,[we,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.setPhone=e),onBlur:t[1]||(t[1]=(...e)=>n.changePhone&&n.changePhone(...e)),type:"tel",placeholder:"+7 (___) ___-__-__",class:"form-input w-full sm:w-[170px]"},null,544),[[i],[l],[u.nr,n.setPhone]]),(0,a._)("div",ve,(0,x.zw)(n.msg["phone"]),1)])}const Ce={mounted:e=>e.focus()};var _e={directives:{phone:{beforeMount(e){function t(e){let t="";const r=e.replace(/\D/g,"").match(/(\d{0,1})(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})/);return"7"===r[1]||"8"===r[1]||(r[2]=r[1]),r[1]="+7",t=r[3]?r[1]+" ("+r[2]+") "+r[3]+(r[4]?"-"+r[4]:"")+(r[5]?"-"+r[5]:""):r[1]+" ("+r[2],t}function r(e){const r=e.replace(/\D/g,"");let n=r;return"7"===n.charAt(0)&&(n="8"+n.slice(1)),t(n)}e.oninput=function(e){e.isTrusted&&(this.value=t(this.value))},e.onpaste=function(){setTimeout((()=>{const t=e.value;this.value=r(t)}))}}},focus:Ce},setup(){const e=(0,a.Fl)({get(){return q.getters["order/getCurrentPhone"]},set(e){q.commit("order/setPhone",e)}}),t=(0,a.Fl)({get(){return q.getters["order/getErrorMessage"]}}),r=e=>{q.commit("order/setPhone",e.target.value)};return{setPhone:e,msg:t,changePhone:r}}};const be=(0,l.Z)(_e,[["render",ye]]);var Me=be,Ee={components:{UserName:se,UserCity:de,UserEmail:he,UserPhone:Me},setup(){const e=(0,a.Fl)({get(){return q.getters["order/getShowCard"]}}),t=e=>{q.dispatch("order/setShowCardAC",e)},r=()=>{q.dispatch("order/setOrderAC")};return{getShowCard:e,setShowCard:t,sendOrder:r}}};const ke=(0,l.Z)(Ee,[["render",X],["__scopeId","data-v-0b31c53b"]]);var Pe=ke;const Se=["innerHTML"];function Oe(e,t,r,n,o,s){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(u.uT,{name:"modal"},{default:(0,a.w5)((()=>[n.getResponceMessage?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"fixed flex flex-row justify-center items-center z-50 inset-0 w-full h-full bg-color6b7280bf transition-opacity ease duration-1000",onClick:t[0]||(t[0]=(0,u.iM)((e=>n.setResponceMessage(!1)),["self"]))},[(0,a._)("div",{class:"w-[793px] h-[492px] sm:h-[216px] p-[24px] m-[10px] bg-white rounded-lg shadow-[0_20px_25px_-5px_rgba(0,0,0,0.1),0_10px_15px_-5px_rgba(0,0,0,0.04)] flex flex-col gap-[16px]",innerHTML:n.getResponceMessage},null,8,Se)])):(0,a.kq)("",!0)])),_:1})])}var De={setup(){const e=(0,a.Fl)({get(){return q.getters["order/getResponceMessage"]}}),t=e=>{q.commit("order/setResponceMessage",e)};return{getResponceMessage:e,setResponceMessage:t}}};const Ne=(0,l.Z)(De,[["render",Oe],["__scopeId","data-v-5450e633"]]);var Fe=Ne,Re={components:{ButtonsGroup:Q,ModalOrder:Pe,ModalResponce:Fe}};const Ue=(0,l.Z)(Re,[["render",f]]);var je=Ue;const Te=[{path:"/",name:"home",component:je}],We=(0,p.p7)({history:(0,p.PO)("/autodrive-agency/"),routes:Te});var Ae=We;(0,u.ri)(m).use(q).use(Ae).mount("#app")}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.m=e,function(){var e=[];r.O=function(t,n,o,s){if(!n){var u=1/0;for(c=0;c<e.length;c++){n=e[c][0],o=e[c][1],s=e[c][2];for(var a=!0,i=0;i<n.length;i++)(!1&s||u>=s)&&Object.keys(r.O).every((function(e){return r.O[e](n[i])}))?n.splice(i--,1):(a=!1,s<u&&(u=s));if(a){e.splice(c--,1);var l=o();void 0!==l&&(t=l)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[n,o,s]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,s,u=n[0],a=n[1],i=n[2],l=0;if(u.some((function(t){return 0!==e[t]}))){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(i)var c=i(r)}for(t&&t(n);l<u.length;l++)s=u[l],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(c)},n=self["webpackChunkautodrive_agency"]=self["webpackChunkautodrive_agency"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(3454)}));n=r.O(n)})();
//# sourceMappingURL=app.10a1e56e.js.map